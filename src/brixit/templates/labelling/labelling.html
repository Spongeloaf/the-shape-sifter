{% extends 'base.html' %}

{% block content %}
<body>

    <!--  Images of parts  -->
    {% if images %}
      {% for image in images %}
        <img src="{{ url_for('labelling.GetUnknownImage', filename=image, ) }}">
      {% endfor %}
    {% else %}
    <p>Could not find parts!</p>
    {% endif %}
 <div></div>

    <!--  Search Button  -->
    <form method="post">
    <label for="query">Search for a part:</label>
    <input name="query" id="query" value="" autofocus required>
    <input type="submit" value="Search">
    </form>
    <div style="display: flex;">
        <!--  Picture of conveyor Button  -->
        <form method="post">
            <input type="submit" value="{{k.kConveyor}}">
            <input type="hidden" name="problem" value="{{k.kConveyor}}">
            <input type="hidden" name="puid" value="{{puid}}">
            <input type="hidden" name="images" value="{{images}}">
        </form>
        <!--  Bad pictures Button  -->
        <form method="post">
            <input type="submit" value="{{k.kBadImages}}">
            <input type="hidden" name="problem" value="{{k.kBadImages}}">
            <input type="hidden" name="puid" value="{{puid}}">
            <input type="hidden" name="images" value="{{images}}">
        </form>
        <!--  Skip Parts Button  -->
        <form method="post">
            <input type="submit" value="{{k.kSkippedPart}}">
            <input type="hidden" name="problem" value="{{k.kSkippedPart}}">
            <input type="hidden" name="puid" value="{{puid}}">
            <input type="hidden" name="images" value="{{images}}">
        </form>
        <!--  Unknown wheel button  -->
        <form method="post">
            <input type="submit" value="{{k.kUnknownWheel}}">
            <input type="hidden" name="problem" value="{{k.kUnknownWheel}}">
            <input type="hidden" name="puid" value="{{puid}}">
            <input type="hidden" name="images" value="{{images}}">
        </form>
    </div>
    <!--  Search result form  -->
    <form method="post">
        <!-- The values names submitted in the form must match the variable names in a Part object -->
        <input type="submit" value="Submit">
        {% for result in results %}
            <!-- Bricklink hosts pictures of images at http://img.bricklink.com/ItemImage/PL/{{result.partNum}}.png.
                 You can access alternative images of parts by subbing out "/PL/" for "/PN/x/" where 'x' is some index number from 1 upwards   -->
            <label>
                <img src="http://img.bricklink.com/ItemImage/PL/{{result.partNum}}.png" style="max-width: 150px; max-height: 150px">
                <input type="radio" id="{{result.partNum}}" name="partNum" value="{{result.partNum}}">
                {{result.partName}}
                <a href="https://www.bricklink.com/v2/catalog/catalogitem.page?P={{result.partNum}}#T=P" target="_blank">
                    [Bricklink]</a>
            </label>
        {% endfor %}
        <input type="hidden" id="images" name="images" value="{{images}}">
        <input type="hidden" id="puid" name="puid" value="{{puid}}">
    </form>
    <form method="post">

</body>
{% endblock %}